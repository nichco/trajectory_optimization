import numpy as np


# aircraft and mission parameter definitions
options = {} # aircraft and mission parameter dictionary

# aircraft data
options['mass'] = 3000 # 2000 # (kg)
options['wing_area'] = 19.6 # (m^2)
options['max_cruise_power'] = 468300 # (w)
options['max_lift_power'] = 123652 # (w)
options['cruise_rotor_diameter'] = 2.6 # (m)
options['lift_rotor_diameter'] = 2.4 # (m)
options['num_lift_rotors'] = 8
options['num_cruise_blades'] = 3
options['num_lift_blades'] = 2
options['cruise_mac'] = 0.15 # (m)
options['lift_mac'] = 0.15 # (m)
options['c_sigma'] = 0.19
options['l_sigma'] = 0.095
options['energy_scale'] = 0.0001 # scale energy for plotting

# mission parameters
options['gravity'] = 9.81 # (m/s^2)
options['v_0'] = 1.5 # 4 (m/s)
options['gamma_0'] = 0 # (rad)
options['h_0'] = 300 # (m)
options['min_h'] = 299.9 # (m)
options['x_0'] = 0 # (m)
options['alpha_0'] = 0 # (rad)
options['h_f'] = 300 # (m)
options['v_f'] = 58 # 43 (m/s)
options['vne'] = 70 # (m/s)
options['x_lim'] = 5000 # (m)
options['theta_0'] = 0 # (rad)
options['gamma_f'] = 0 # (rad)
options['max_g'] = 0.4 # (g)
options['max_dgamma'] = 0.9 # (rad/s)

# set the initial integrator timestep
options['dt'] = 2.92068173


# initial control inputs
"""
options['control_x_i'] = np.ones(30)*2300
options['control_z_i'] = np.linspace(800, 100, 30)
options['control_alpha_i'] = np.linspace(0.7, 0, 30)
"""
"""
print(np.array2string(sim['control_x'],separator=','))
print(np.array2string(sim['control_z'],separator=','))
print(np.array2string(sim['control_alpha'],separator=','))
"""

"""
# min dt seed (nominal) (converges from here)
options['control_x_i'] = np.array([2125.10451257,2128.22740825,2138.98203216,2153.99947746,2237.70658894,
 2245.6320373 ,2276.13933419,2279.80089705,2306.00549874,2323.1525011 ,
 2356.03764486,2375.65396978,2383.02309681,2404.55599069,2412.13836763,
 2417.1654391 ,2390.66092551,2431.4544577 ,2419.68558804,2411.35247524,
 2442.15742165,2348.80131579,2340.58372021,2434.73306808,2431.81460948,
 2403.85867832,2380.2409502 ,2317.98436098,2341.90075405,2344.85593879])
options['control_z_i'] = np.array([1.38419639e+03,1.41089046e+03,1.43011595e+03,1.44370813e+03,
 1.40020468e+03,1.40967237e+03,2.36324651e+02,0.00000000e+00,
 6.14692924e+01,1.35732341e+03,1.38201991e+03,1.37738355e+03,
 2.01414482e-13,0.00000000e+00,6.06725875e+01,5.18081169e+00,
 7.51542249e+01,2.57096218e+01,6.01631576e+01,0.00000000e+00,
 3.77703389e+00,8.24626537e+01,1.36995661e+03,1.36443527e+03,
 2.63253977e+02,0.00000000e+00,1.42508854e+00,7.51179569e+00,
 4.95918066e-01,0.00000000e+00])
options['control_alpha_i'] = np.array([ 1.26036173e-18, 1.04719755e+00, 1.04719755e+00, 9.94746980e-01,
  3.76819906e-01, 4.58801240e-01,-1.37896318e-01,-1.75723772e-01,
 -1.74893629e-01, 3.43015702e-01, 3.18934912e-01, 2.99079711e-01,
 -2.39721024e-01,-1.71224779e-03,-3.61508449e-03,-4.20819752e-03,
 -3.73232577e-03, 1.59761105e-03,-3.92617848e-03,-1.46307079e-02,
  6.52879430e-03,-1.64853013e-01, 2.53109259e-01, 2.19020757e-01,
 -3.73958992e-02,-3.25720775e-02,-7.34992469e-02,-1.05259183e-01,
 -2.00428763e-01,-1.67777799e-01])
"""


# min e seed (nominal)
options['control_x_i'] = np.array([1.45594879e+03,7.47993620e-15,9.23966756e+02,9.91627117e+02,
 1.12780401e+03,1.23242533e+03,1.09840308e+03,1.06107663e+03,
 1.01907686e+03,9.81224070e+02,9.51856762e+02,9.24629720e+02,
 9.00335878e+02,8.77908425e+02,8.57926371e+02,8.37550198e+02,
 8.19904280e+02,8.03126354e+02,7.87377998e+02,7.71835968e+02,
 7.57926048e+02,7.43238288e+02,7.31179692e+02,7.18638772e+02,
 7.05007511e+02,6.93036625e+02,6.81037979e+02,6.69793450e+02,
 6.57716596e+02,6.48517177e+02,6.37460106e+02,6.27229679e+02,
 6.15472921e+02,6.04577681e+02,5.94089874e+02,5.82065266e+02,
 5.71377245e+02,5.59937008e+02,5.45932623e+02,5.63528898e+02])
options['control_z_i'] = np.array([1.09348633e+03,1.08602487e+03,9.84601655e+02,7.77636924e+02,
 5.61137577e+02,4.77436918e+02,2.09394508e+02,1.87155888e+02,
 1.62794153e+02,1.25674934e+02,1.02226102e+02,7.41715423e+01,
 3.84903878e+01,3.43661977e+01,2.87757915e+01,1.44291603e+01,
 1.24302421e+01,3.10251606e+00,5.79711805e+00,9.20579880e-01,
 4.32743673e-17,2.35818748e-01,4.92896318e-01,0.00000000e+00,
 1.03268078e+00,1.84633656e-15,3.83954269e-01,1.35332952e-16,
 1.08344223e-03,4.13792068e-03,4.20507512e-16,4.83566418e-04,
 6.37579663e-04,3.30162447e-04,5.45351712e-04,4.73285778e-04,
 4.83202095e-04,4.34373761e-04,4.35222658e-04,5.12710467e-04])
options['control_alpha_i'] = np.array([0.1663373 ,1.57079633,0.82534297,0.19560541,0.1770161 ,0.15562014,
 0.09878779,0.08775966,0.08441151,0.07172505,0.06594794,0.0606588 ,
 0.05588882,0.05054155,0.04797749,0.0447865 ,0.04050643,0.03950203,
 0.03729975,0.03478709,0.03332392,0.03264373,0.03079068,0.03032826,
 0.02949219,0.02872071,0.02835438,0.02846972,0.02791506,0.02801186,
 0.02859808,0.02858296,0.03038621,0.02905816,0.02959415,0.03270177,
 0.03345774,0.03231287,0.03580951,0.03695721])



