import numpy as np


# aircraft and mission parameter definitions
options = {} # aircraft and mission parameter dictionary

# aircraft data
options['mass'] = 3000 # 2000 # (kg)
options['wing_area'] = 19.6 # (m^2)
options['max_cruise_power'] = 468300.0 # (w)
options['max_lift_power'] = 103652.0 # 103652(w)
options['cruise_rotor_diameter'] = 2.6 # (m)
options['lift_rotor_diameter'] = 2.4 # (m)
options['num_lift_rotors'] = 8
options['num_cruise_blades'] = 3
options['num_lift_blades'] = 2
options['cruise_mac'] = 0.15 # (m)
options['lift_mac'] = 0.15 # (m)
options['c_sigma'] = 0.19
options['l_sigma'] = 0.095
options['energy_scale'] = 0.0001 # scale energy for plotting

# mission parameters
options['gravity'] = 9.81 # (m/s^2)
options['v_0'] = 1.5 # 4 (m/s)
options['gamma_0'] = 0 # (rad)
options['h_0'] = 300 # (m)
options['min_h'] = 299.9 # (m)
options['x_0'] = 0 # (m)
options['alpha_0'] = 0 # (rad)
options['h_f'] = 300 # (m)
options['v_f'] = 58 # 43 (m/s)
options['vne'] = 70 # (m/s)
options['x_lim'] = 5000 # (m)
options['theta_0'] = 0 # (rad)
options['gamma_f'] = 0 # (rad)
options['max_g'] = 0.5 # (g)
options['max_dgamma'] = 1.5 # (rad/s)

# set the initial integrator timestep
options['dt'] = 1.76987219


# initial control inputs
"""
options['control_x_i'] = np.ones(30)*2300
options['control_z_i'] = np.linspace(800, 100, 30)
options['control_alpha_i'] = np.linspace(0.7, 0, 30)
"""
"""
print(np.array2string(sim['control_x'],separator=','))
print(np.array2string(sim['control_z'],separator=','))
print(np.array2string(sim['control_alpha'],separator=','))
"""

"""
# min dt seed (nominal) (converges from here)
options['control_x_i'] = np.array([2125.10451257,2128.22740825,2138.98203216,2153.99947746,2237.70658894,
 2245.6320373 ,2276.13933419,2279.80089705,2306.00549874,2323.1525011 ,
 2356.03764486,2375.65396978,2383.02309681,2404.55599069,2412.13836763,
 2417.1654391 ,2390.66092551,2431.4544577 ,2419.68558804,2411.35247524,
 2442.15742165,2348.80131579,2340.58372021,2434.73306808,2431.81460948,
 2403.85867832,2380.2409502 ,2317.98436098,2341.90075405,2344.85593879])
options['control_z_i'] = np.array([1.38419639e+03,1.41089046e+03,1.43011595e+03,1.44370813e+03,
 1.40020468e+03,1.40967237e+03,2.36324651e+02,0.00000000e+00,
 6.14692924e+01,1.35732341e+03,1.38201991e+03,1.37738355e+03,
 2.01414482e-13,0.00000000e+00,6.06725875e+01,5.18081169e+00,
 7.51542249e+01,2.57096218e+01,6.01631576e+01,0.00000000e+00,
 3.77703389e+00,8.24626537e+01,1.36995661e+03,1.36443527e+03,
 2.63253977e+02,0.00000000e+00,1.42508854e+00,7.51179569e+00,
 4.95918066e-01,0.00000000e+00])
options['control_alpha_i'] = np.array([ 1.26036173e-18, 1.04719755e+00, 1.04719755e+00, 9.94746980e-01,
  3.76819906e-01, 4.58801240e-01,-1.37896318e-01,-1.75723772e-01,
 -1.74893629e-01, 3.43015702e-01, 3.18934912e-01, 2.99079711e-01,
 -2.39721024e-01,-1.71224779e-03,-3.61508449e-03,-4.20819752e-03,
 -3.73232577e-03, 1.59761105e-03,-3.92617848e-03,-1.46307079e-02,
  6.52879430e-03,-1.64853013e-01, 2.53109259e-01, 2.19020757e-01,
 -3.73958992e-02,-3.25720775e-02,-7.34992469e-02,-1.05259183e-01,
 -2.00428763e-01,-1.67777799e-01])
"""


# min e seed (no dgamma)
options['control_x_i'] = np.array([  28.21159581,   0.        ,1312.65038101,1220.93598024,1590.37875807,
 1611.62872864,1387.68634629,1288.14691177,1202.07971762,1148.29900605,
 1107.5170796 ,1074.45405841,1046.30414909,1021.21635141, 998.05819147,
  976.27567246, 955.53358758, 935.86232119, 917.38902089, 900.05359539,
  883.73141766, 868.22640766, 853.56528159, 839.82075218, 826.59529227,
  813.843558  , 801.51334781, 789.56174434, 777.98192664, 766.7669597 ,
  755.79499641, 745.06659316, 734.55371378, 724.23959396, 714.10977774,
  704.1334229 , 694.43679498, 684.85800402, 675.39578631, 665.95301845,
  656.78824096, 647.43521788, 638.48015147, 629.14700842, 621.45524038])
options['control_z_i'] = np.array([1.02871407e+03,0.00000000e+00,1.02696956e+03,1.04086282e+03,
 9.35892581e+02,6.25610802e+02,4.77874365e+02,3.72423962e+02,
 3.08488340e+02,2.63806129e+02,2.19648784e+02,1.98313673e+02,
 1.79442429e+02,1.57302377e+02,1.31333089e+02,9.61860052e+01,
 5.60531056e+01,2.60990139e+01,7.06224615e+00,1.37067681e-03,
 4.24464000e-03,3.60787254e-03,2.23924312e-03,2.05793736e-03,
 1.67089848e-03,1.44573543e-03,1.31468445e-03,1.17336781e-03,
 1.07309300e-03,9.97327475e-04,9.23296708e-04,8.68757430e-04,
 8.19642743e-04,7.77926900e-04,7.40882493e-04,7.08642371e-04,
 6.80493691e-04,6.55746680e-04,6.33538753e-04,6.13393604e-04,
 5.96582397e-04,5.81510639e-04,5.69830824e-04,5.27716436e-04,
 5.91151767e-04])
options['control_alpha_i'] = np.array([3.71801765e-21,3.80053392e-01,4.72019811e-01,5.28800056e-01,
 2.25755210e-01,1.73706253e-01,1.52692542e-01,1.37388829e-01,
 1.23267306e-01,1.11373346e-01,1.02588835e-01,9.40650786e-02,
 8.69722780e-02,8.10838992e-02,7.62223821e-02,7.20772691e-02,
 6.83718728e-02,6.48140144e-02,6.13985455e-02,5.83110022e-02,
 5.55543258e-02,5.30886977e-02,5.08610118e-02,4.88418523e-02,
 4.70101958e-02,4.53915415e-02,4.39345313e-02,4.25983642e-02,
 4.14269138e-02,4.03785538e-02,3.94605928e-02,3.86622631e-02,
 3.79605689e-02,3.73441455e-02,3.68543406e-02,3.64767511e-02,
 3.61561846e-02,3.59016785e-02,3.57942374e-02,3.57509555e-02,
 3.57688363e-02,3.58918850e-02,3.62250740e-02,3.47381294e-02,
 3.93713262e-02])